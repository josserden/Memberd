var A=Object.defineProperty;var S=(t,s,e)=>s in t?A(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var r=(t,s,e)=>(S(t,typeof s!="symbol"?s+"":s,e),e),O=(t,s,e)=>{if(!s.has(t))throw TypeError("Cannot "+e)};var l=(t,s,e)=>(O(t,s,"read from private field"),e?e.call(t):s.get(t)),d=(t,s,e)=>{if(s.has(t))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(t):s.set(t,e)};(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();const g=()=>({body:document.querySelector("body"),burgerBtn:document.querySelector("[data-menu-button]"),carousel:document.querySelector("[data-carousel]"),carouselItems:document.querySelectorAll("[data-carousel-item]"),menu:document.querySelector("[data-menu]"),nextBtn:document.querySelector("[data-next-button]"),prevBtn:document.querySelector("[data-prev-button]")}),{carousel:L,carouselItems:I}=g();let a=0;const y=I.length-1,m=t=>{if(t<0||t>y)return;const s=I[t].offsetLeft;L.scrollTo({left:s,behavior:"smooth"})},T=()=>{a!==0&&(a-=1,m(a))},E=()=>{if(a===y){a=0,m(a);return}a+=1,m(a)},q=()=>{m(a)};var p,f,u;class B extends HTMLElement{constructor(){super();d(this,p,100);d(this,f,1e3);d(this,u,0);r(this,"initObservers",()=>{this.observer=new IntersectionObserver(this.handleIntersection,{root:null,rootMargin:"0px",threshold:l(this,u)}),this.resizeObserver=new ResizeObserver(this.handleResize)});r(this,"connectObservers",()=>{this.resizeObserver.observe(this),this.observer.observe(this.parentElement)});r(this,"disconnectObservers",()=>{this.resizeObserver.disconnect(),this.observer.disconnect()});r(this,"initItems",()=>{const e=this.children[0];this.parentHeight=e.offsetHeight;const o=e.children[0].offsetHeight,i=Math.ceil(this.parentHeight/o);for(let n=0;n<i;n++){const h=(e.children[n]??e.children[0]).cloneNode(!0);h.classList.add("cloned"),this.clonedItems.push(h)}});r(this,"generateItems",()=>{this.children[0].append(...this.clonedItems)});r(this,"updateItems",()=>{this.position<this.parentHeight||(this.position-=this.parentHeight,this.clonedItems.push(this.clonedItems.shift()),this.updateItems())});r(this,"startAnimation",()=>{console.log("startAnimation"),this.isPlay=!0;const e=()=>{if(!this.isPlay)return;const o=performance.now(),i=(this.pauseTime?this.pauseTime:o)-this.startTime;this.position=this.speed*i,this.updateItems(),this.style.transform=`translateY(${-this.position}px)`,requestAnimationFrame(e)};requestAnimationFrame(e)});r(this,"pauseAnimation",()=>{console.log("pauseAnimation"),this.isPlay=!1,this.pauseTime=performance.now()});r(this,"resumeAnimation",()=>{console.log("resumeAnimation"),!this.isPlay&&(this.isPlay=!0,this.startTime+=this.pauseTime?performance.now()-this.pauseTime:0,this.pauseTime=null,requestAnimationFrame(this.startAnimation))});r(this,"handleResize",e=>{for(const o of e){const{width:i,height:n}=o.contentRect,{width:c,height:h}=o.target.getBoundingClientRect();(i!==c||n!==h)&&(console.log("handleResize"),this.pauseAnimation(),this.resumeAnimation())}});r(this,"handleIntersection",e=>{for(const o of e){if(o.isIntersecting){this.resumeAnimation(),console.log("handleIntersection");return}this.pauseAnimation()}});r(this,"handleMutation",e=>{console.log("handleMutation")});this.originalItems=[],this.clonedItems=[],this.parentHeight=0,this.speedValue=parseInt(this.getAttribute("speed-value"))||l(this,p),this.speed=this.speedValue/l(this,f),this.position=l(this,u),this.startTime=performance.now(),this.pauseTime=null,this.isPlay=!1,this.initObservers(),this.initItems()}static get observedAttributes(){return["speed-value"]}connectedCallback(){this.isConnected&&(this.generateItems(),this.startAnimation(),this.addEventListener("mouseenter",()=>{this.pauseAnimation()}),this.addEventListener("mouseleave",()=>{this.resumeAnimation()}),this.connectObservers())}disconnectedCallback(){this.disconnectObservers()}}p=new WeakMap,f=new WeakMap,u=new WeakMap;const H=()=>{customElements.define("custom-scroller",B)},{burgerBtn:b,menu:M,body:v}=g(),P=()=>{const t=b.getAttribute("aria-expanded")==="true";if(b.setAttribute("aria-expanded",!t),M.classList.toggle("is-open"),t){v.classList.remove("no-scroll");return}v.classList.add("no-scroll")},{burgerBtn:w,prevBtn:x,nextBtn:N}=g();w.addEventListener("click",P);x.addEventListener("click",T);N.addEventListener("click",E);q();H();
