(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=i(e);fetch(e.href,s)}})();const c=()=>({body:document.querySelector("body"),burgerBtn:document.querySelector("[data-menu-button]"),carousel:document.querySelector("[data-carousel]"),carouselItems:document.querySelectorAll("[data-carousel-item]"),menu:document.querySelector("[data-menu]"),nextBtn:document.querySelector("[data-next-button]"),prevBtn:document.querySelector("[data-prev-button]")}),{carousel:p,carouselItems:d}=c();let n=0;const m=d.length-1,l=o=>{if(o<0||o>m)return;const t=d[o].offsetLeft;p.scrollTo({left:t,behavior:"smooth"})},f=()=>{n!==0&&(n-=1,l(n))},b=()=>{if(n===m){n=0,l(n);return}n+=1,l(n)},g=()=>{l(n)};class v extends HTMLElement{constructor(){super(),this.originalItems=[...this.children],this.clonedItems=this.originalItems.map(t=>{const i=t.cloneNode(!0);return i.classList.add("cloned"),i}),this.baseSizeInPx=100,this.baseTimeInMs=1e3,this.speedValue=parseInt(this.getAttribute("speed-value"))||this.baseSizeInPx,this.speed=this.speedValue/this.baseTimeInMs,this.position=0,this.startTime=performance.now(),this.pauseTime=null,this.isPlay=!1,this.intersectionOptions={root:null,rootMargin:"0px",threshold:0},this.resizeObserver=new ResizeObserver(this.handleResize.bind(this)),this.observer=new IntersectionObserver(this.handleIntersection.bind(this),this.intersectionOptions),this.mutationObserver=new MutationObserver(this.handleMutation.bind(this))}static get observedAttributes(){return["speed-value"]}connectedCallback(){this.isConnected&&(this.generateItems(),this.startAnimation(),this.addEventListener("mouseenter",this.pauseAnimation.bind(this)),this.addEventListener("mouseleave",this.resumeAnimation.bind(this)),this.resizeObserver.observe(this),this.observer.observe(this.parentElement),this.mutationObserver.observe(this,{childList:!0}))}generateItems(){this.updateItems(),this.append(...this.clonedItems)}updateItems(){this.position<this.originalItems[0].offsetHeight||(this.removeChild(this.originalItems[0]),this.appendChild(this.originalItems[0]),this.position-=this.originalItems[0].offsetHeight,this.updateItems())}disconnectedCallback(){this.resizeObserver.disconnect(),this.observer.disconnect()}startAnimation(){console.log("startAnimation"),this.isPlay=!0;const t=()=>{if(!this.isPlay)return;const i=performance.now(),r=(this.pauseTime?this.pauseTime:i)-this.startTime;this.position=this.speed*r,this.updateItems(),this.style.transform=`translateY(${-this.position}px)`,requestAnimationFrame(t)};requestAnimationFrame(t)}pauseAnimation(){console.log("pauseAnimation"),this.isPlay=!1,this.pauseTime=performance.now(),this.mutationObserver.disconnect()}resumeAnimation(){console.log("resumeAnimation"),!this.isPlay&&(this.isPlay=!0,this.startTime+=this.pauseTime?performance.now()-this.pauseTime:0,this.pauseTime=null,requestAnimationFrame(this.startAnimation.bind(this)))}handleResize(t){for(const i of t){const{width:r,height:e}=i.contentRect,{width:s,height:a}=i.target.getBoundingClientRect();(r!==s||e!==a)&&(console.log("handleResize"),this.pauseAnimation(),this.resumeAnimation())}}handleIntersection(t){for(const i of t){if(i.isIntersecting){this.resumeAnimation(),console.log("handleIntersection");return}this.pauseAnimation()}}handleMutation(t){console.log("handleMutation"),this.pauseAnimation(),this.resumeAnimation()}}const{burgerBtn:u,menu:y,body:h}=c(),I=()=>{const o=u.getAttribute("aria-expanded")==="true";if(u.setAttribute("aria-expanded",!o),y.classList.toggle("is-open"),o){h.classList.remove("no-scroll");return}h.classList.add("no-scroll")},{burgerBtn:A,prevBtn:L,nextBtn:O}=c();customElements.define("custom-scroller",v);A.addEventListener("click",I);L.addEventListener("click",f);O.addEventListener("click",b);document.addEventListener("DOMContentLoaded",g);
