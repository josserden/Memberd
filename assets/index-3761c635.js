var b=Object.defineProperty;var v=(s,i,t)=>i in s?b(s,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[i]=t;var r=(s,i,t)=>(v(s,typeof i!="symbol"?i+"":i,t),t);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}})();const u=()=>({body:document.querySelector("body"),burgerBtn:document.querySelector("[data-menu-button]"),carousel:document.querySelector("[data-carousel]"),carouselItems:document.querySelectorAll("[data-carousel-item]"),menu:document.querySelector("[data-menu]"),nextBtn:document.querySelector("[data-next-button]"),prevBtn:document.querySelector("[data-prev-button]")}),{carousel:I,carouselItems:p}=u();let a=0;const f=p.length-1,c=s=>{if(s<0||s>f)return;const i=p[s].offsetLeft;I.scrollTo({left:i,behavior:"smooth"})},y=()=>{a!==0&&(a-=1,c(a))},A=()=>{if(a===f){a=0,c(a);return}a+=1,c(a)},S=()=>{c(a)},O=100,T=1e3,d=0;class L extends HTMLElement{constructor(){super();r(this,"initObservers",()=>{this.observer=new IntersectionObserver(this.handleIntersection,{root:null,rootMargin:"0px",threshold:d}),this.resizeObserver=new ResizeObserver(this.handleResize)});r(this,"connectObservers",()=>{this.resizeObserver.observe(this),this.observer.observe(this.parentElement)});r(this,"disconnectObservers",()=>{this.resizeObserver.disconnect(),this.observer.disconnect()});r(this,"initItems",()=>{this.originalItems=[...this.children]});r(this,"generateItems",()=>{this.updateItems(),this.append(...this.clonedItems)});r(this,"updateItems",()=>{this.position<this.originalItems[0].offsetHeight||(this.removeChild(this.originalItems[0]),this.appendChild(this.originalItems[0]),this.position-=this.originalItems[0].offsetHeight,this.updateItems())});r(this,"startAnimation",()=>{console.log("startAnimation"),this.isPlay=!0;const t=()=>{if(!this.isPlay)return;const o=performance.now(),e=(this.pauseTime?this.pauseTime:o)-this.startTime;this.position=this.speed*e,this.updateItems(),this.style.transform=`translateY(${-this.position}px)`,requestAnimationFrame(t)};requestAnimationFrame(t)});r(this,"pauseAnimation",()=>{console.log("pauseAnimation"),this.isPlay=!1,this.pauseTime=performance.now()});r(this,"resumeAnimation",()=>{console.log("resumeAnimation"),!this.isPlay&&(this.isPlay=!0,this.startTime+=this.pauseTime?performance.now()-this.pauseTime:0,this.pauseTime=null,requestAnimationFrame(this.startAnimation))});r(this,"handleResize",t=>{for(const o of t){const{width:e,height:n}=o.contentRect,{width:l,height:g}=o.target.getBoundingClientRect();(e!==l||n!==g)&&(console.log("handleResize"),this.pauseAnimation(),this.resumeAnimation())}});r(this,"handleIntersection",t=>{for(const o of t){if(o.isIntersecting){this.resumeAnimation(),console.log("handleIntersection");return}this.pauseAnimation()}});r(this,"handleMutation",t=>{console.log("handleMutation")});this.originalItems=[],this.clonedItems=[],this.speedValue=parseInt(this.getAttribute("speed-value"))||O,this.speed=this.speedValue/T,this.position=d,this.startTime=performance.now(),this.pauseTime=null,this.isPlay=!1,this.initObservers(),this.initItems()}static get observedAttributes(){return["speed-value"]}connectedCallback(){this.isConnected&&(this.generateItems(),this.startAnimation(),this.addEventListener("mouseenter",()=>{this.pauseAnimation()}),this.addEventListener("mouseleave",()=>{this.resumeAnimation()}),this.connectObservers())}disconnectedCallback(){this.disconnectObservers()}}const E=()=>{customElements.define("custom-scroller",L)},{burgerBtn:h,menu:q,body:m}=u(),B=()=>{const s=h.getAttribute("aria-expanded")==="true";if(h.setAttribute("aria-expanded",!s),q.classList.toggle("is-open"),s){m.classList.remove("no-scroll");return}m.classList.add("no-scroll")},{burgerBtn:P,prevBtn:w,nextBtn:x}=u();P.addEventListener("click",B);w.addEventListener("click",y);x.addEventListener("click",A);S();E();
